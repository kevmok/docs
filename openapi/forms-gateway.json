{"openapi":"3.0.0","info":{"description":"Integration providers looking to build a Moveworks-compatible integration can implement an OpenAPI Specification. Once these APIs are defined, Moveworks can immediately integrate with your system\n","version":"1.0.0","title":"Forms Gateway","contact":{"email":"moveworks-gateway@moveworks.ai"}},"tags":[{"name":"Smart Forms","description":"Support Moveworks Smart Forms for your integration.","externalDocs":{"description":"Read more","url":"https://www.moveworks.com/insights/forms-brought-service-catalog-to-life"}}],"servers":[{"url":"http://localhost:5000/myinstance1"}],"paths":{"/forms":{"get":{"tags":["Smart Forms"],"summary":"List Forms","description":"Forms should be returned from this API in a deterministic order. Deterministic order is desired if we decide to use pagination. Anticipated load – Moveworks will call this endpoint to iterate over all forms provided by this endpoint once every 24 hours. This API is primarily used for ingestion.","operationId":"listForms","parameters":[{"name":"offset","in":"query","description":"Given a deterministically ordered list of articles, skips this many forms before returning form records","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"limit","in":"query","description":"Number of forms to return in a single query. Recommended max: 100 records / request.","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"List of forms","headers":{"X-RateLimit-Limit":{"schema":{"type":"integer"},"description":"The maximum number of requests you're permitted to make per minute."},"X-RateLimit-Remaining":{"schema":{"type":"integer"},"description":"The number of requests remaining in the current rate limit window."},"X-RateLimit-Reset":{"schema":{"type":"string","format":"date-time"},"description":"The remaining window before the rate limit FULLY resets in UTC epoch seconds."}},"content":{"application/json":{"schema":{"type":"object","properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/Form"}}}}}}},"default":{"$ref":"#/components/responses/Error"}}}},"/forms/{formId}":{"get":{"tags":["Smart Forms"],"summary":"Get Form By ID","description":"Form with the requested ID should be returned from this API. Anticipated load – Moveworks may call this endpoint a few times every 24 hours. This API is primarily for sanity checks and debugging. Since ingestion happens once every 24 hours, we might want to verify if form submission failures are due to deviations between the local and remote versions.","operationId":"getFormById","parameters":[{"name":"formId","in":"path","description":"ID of form to return","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"A single form","headers":{"X-RateLimit-Limit":{"schema":{"type":"integer"},"description":"The maximum number of requests you're permitted to make per minute."},"X-RateLimit-Remaining":{"schema":{"type":"integer"},"description":"The number of requests remaining in the current rate limit window."},"X-RateLimit-Reset":{"schema":{"type":"string","format":"date-time"},"description":"The remaining window before the rate limit FULLY resets in UTC epoch seconds."}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form"}}}},"default":{"$ref":"#/components/responses/Error"}}}},"/forms/{formId}/submit":{"post":{"tags":["Smart Forms"],"summary":"Submit a Form","description":"This API is primarily used for transactional activity. Performance will be essential. The following example assumes submission of the example form defined here. Anticipated load – Moveworks will call this endpoint every time a user submits a form through our native skill. ","operationId":"submitForm","parameters":[{"name":"formId","in":"path","description":"ID of form to submit","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful form submission","headers":{"X-RateLimit-Limit":{"schema":{"type":"integer"},"description":"The maximum number of requests you're permitted to make per minute."},"X-RateLimit-Remaining":{"schema":{"type":"integer"},"description":"The number of requests remaining in the current rate limit window."},"X-RateLimit-Reset":{"schema":{"type":"string","format":"date-time"},"description":"The remaining window before the rate limit FULLY resets in UTC epoch seconds."}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitFormResponse"}}}},"default":{"$ref":"#/components/responses/Error"}},"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["submitted_by"],"properties":{"submitted_by":{"type":"string","description":"System ID (usually the email address) of the user who submitted this form.","example":"one@example.com"},"fields":{"type":"object","description":"This is a dictionary where they keys are the \"field names\" coming from the schema, and the value types are string, list of strings, and boolean. See the example.","example":{"requested_for":"two@example.com","permissions":["system_administrator","network_administrator"],"read_or_write":"write","business_justification":"Lorem Ipsum","2fa_device":true,"effective_date":"2022-10-20T07:00:00Z"}},"form_metadata":{"type":"object","required":["name","id","last_updated_at"],"properties":{"name":{"type":"string","description":"The name of the form being submitted","example":"Local Admin Access"},"last_updated_at":{"type":"string","description":"Last updated date as a ISO-8601 UTC timestamp (e.g., 2021-10-20T17:28:52Z). Indicates the freshness of the form.","example":"2022-10-20T07:00:00Z"}}}}}}}}}}},"components":{"responses":{"Error":{"description":"There was an error. Please see our error documentation for details on what the errors mean. https://docs.moveworks.ai/gateway/errors/","headers":{"X-RateLimit-Limit":{"schema":{"type":"integer"},"description":"The maximum number of requests you're permitted to make per minute."},"X-RateLimit-Remaining":{"schema":{"type":"integer"},"description":"The number of requests remaining in the current rate limit window."},"X-RateLimit-Reset":{"schema":{"type":"string","format":"date-time"},"description":"The remaining window before the rate limit FULLY resets in UTC epoch seconds."}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"schemas":{"Form":{"type":"object","required":["id","domain","title","url","last_updated_at"],"properties":{"id":{"type":"string","description":"Stable unique identifier for the form.","example":"06585f0c-539b-4ed5-85cc-a834d15da2e6"},"image_url":{"type":"string","description":"Publically accessible image URL for the form","example":"https://www.moveworks.com/hubfs/img/site/backgrounds/whats-new.svg"},"domain":{"type":"string","description":"Specifies the domain the form belongs to.","enum":["IT","HR"]},"title":{"type":"string","description":"Title of the form. This will be displayed to the end user.","example":"Local Admin Access"},"description":{"type":"string","description":"A long description of the form’s purpose. This is used in our form search machine learning, and is also displayed to the end user.","example":"Lorem Ipsum","minLength":1,"maxLength":2000},"short_description":{"type":"string","description":"A short description of the form’s purpose. This is used in our form search machine learning, and is also displayed to the end user.","example":"Lorem Ipsum","minLength":1,"maxLength":140},"url":{"type":"string","description":"Self-service portal URL where the user can fill out the form if in-bot form filling is not supported.","example":"https;//myportal.system.com/forms/06585f0c-539b-4ed5-85cc-a834d15da2e6"},"last_updated_at":{"type":"string","description":"Last updated date as a ISO-8601 UTC timestamp (e.g., 2021-10-20T17:28:52Z)","example":"2022-10-20T07:00:00Z"},"fields":{"type":"array","description":"A list of fields that make up this form.","items":{"$ref":"#/components/schemas/Field"},"minItems":1,"maxItems":50},"dynamic_field_rules":{"type":"array","description":"A list of rules that specify dynamic form field behavior based on user response to other fields.","items":{"$ref":"#/components/schemas/Rule"}}}},"Field":{"type":"object","required":["name","label","type"],"properties":{"name":{"type":"string","description":"Unique name for the field in the form. Will be used as the key (in a key-value pair) during form submission.","example":"permissions"},"label":{"type":"string","description":"Label for the field. This will be displayed to the end user.","example":"Which permissions do you need?","minLength":1,"maxLength":75},"placeholder":{"type":"string","description":"Placeholder text to be shown in the field. This will be displayed to the end user.","example":"Enter text here.","minLength":1,"maxLength":75},"help":{"type":"string","description":"Tooltip (or additional help text) for the field. This will be displayed to the end user.","example":"If you need help figuring out which access you need, ask your bot.","minLength":1,"maxLength":75},"type":{"type":"string","description":"The type of the field.","enum":["LABEL","SINGLE_OPTION_PICKER","MULTI_OPTION_PICKER","SINGLE_USER_OPTION_PICKER","MULTI_USER_OPTION_PICKER","SINGLE_LINE_TEXT","MULTI_LINE_TEXT","CHECKBOX","DATE_PICKER","DATETIME_PICKER"]},"default_to_current_user":{"type":"boolean","default":false,"description":"For SINGLE_USER_OPTION_PICKER and MULTI_USER_OPTION_PICKER field types only. The value defaults (auto-fills) to the end user filling the form."},"options":{"type":"array","description":"For SINGLE_OPTION_PICKER and MULTI_OPTION_PICKER field types only.","items":{"$ref":"#/components/schemas/Option"},"minItems":1,"maxItems":500},"required":{"type":"boolean","description":"Conveys whether the field is mandatory during form submission.","default":false},"visible":{"type":"boolean","description":"Conveys whether the field is initially hidden when the form is displayed to the end user.","default":true}}},"Option":{"type":"object","required":["label","value"],"properties":{"label":{"type":"string","description":"The display value for this option. This will be displayed to the end user.","example":"System Administrator","minLength":1,"maxLength":75},"value":{"type":"string","description":"The response value for this option. This will be used as the field value during form submission.","example":"system_administrator","minLength":1,"maxLength":75}}},"Rule":{"type":"object","required":["name","conditions","actions"],"properties":{"name":{"type":"string","description":"Unique identifier for the rule within the form.","example":"Hide 2FA if write access not needed"},"logical":{"type":"string","description":"The logical operator to use to combine the conditions","enum":["AND","OR"]},"conditions":{"type":"array","description":"Specifies the conditions that when met, will kick off actions. If the conditions go from met to unmet, the actions will be reversed as well.","items":{"$ref":"#/components/schemas/Condition"}},"actions":{"type":"array","description":"Specifies the actions to be taken if the conditions are met.","items":{"$ref":"#/components/schemas/Action"}}}},"Condition":{"type":"object","required":["field_name","operator"],"properties":{"field_name":{"type":"string","description":"Name of the field whose value needs to be inspected.","example":"2fa_device"},"operator":{"type":"string","description":"The operator to use to inspect the field_name's value.","enum":["EMPTY","NOT_EMPTY","IN","NOT_IN","EQUALS","NOT_EQUALS"],"example":"EQUALS"},"value":{"description":"field_name's value will be compared against this value using the operator specified above. Note: When the operator is EMPTY, NOT_EMPTY, this attribute need not be specified.","oneOf":[{"type":"boolean","description":"List of values applied to \"EQUALS\" and \"NOT_EQUALS\" operators","example":true},{"type":"string","description":"List of values applied to \"EQUALS\" and \"NOT_EQUALS\" operators"},{"type":"array","description":"List of values applied to \"IN\" and \"NOT_IN\" operators","items":{"type":"string"}}]}}},"Action":{"type":"object","required":["field_name","visible","required"],"properties":{"field_name":{"type":"string","description":"Name of the target field to take action on.","example":"read_or_write"},"visible":{"type":"boolean","description":"Marks the target field as visible or hidden when the conditions are met.","example":false},"required":{"type":"boolean","description":"Marks the target field as required or optional when the conditions are met."}}},"SubmitFormResponse":{"type":"object","properties":{"ticket_id":{"type":"string","description":"The display ticket ID of the ticket that was created (if any). null value is allowed. If a valid ticket ID is returned, Moveworks will be able to fetch/poll this ticket to provide updates to the user and to accelerate resolution of their request."}}},"Error":{"type":"object","required":["code","message"],"properties":{"code":{"type":"string","description":"Description of the error type","enum":["INPUT_VALIDATION_FAILED","AUTHENTICATION_FAILED","NOT_FOUND","RATE_LIMIT_EXCEEDED","EXTERNAL_REST_ERROR","INTERNAL_SERVER_ERROR"]},"message":{"type":"string","description":"Details about the error issue."}}}},"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","name":"X-API-KEY","in":"header"},"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"security":[{"bearerAuth":[]},{"ApiKeyAuth":[]}],"x-readme":{"explorer-enabled":true,"proxy-enabled":true}}